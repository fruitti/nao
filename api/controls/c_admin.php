<?phpuse \Firebase\JWT\JWT;use Carbon\Carbon;switch($_SERVER['REQUEST_METHOD']) {    case 'POST':        //convert JSON POST into array        $input = json_decode(file_get_contents('php://input'), TRUE);        // verify existence of username / password        if (isset($input['username']) && isset($input['password']) && !is_null($input['username']) && !is_null($input['password'])) {            // verify user exist !            $user = $DB->connectUser($input['username'],crypt_Password($input['password']));            if (isset($user[0]) && !empty($user[0])) {                $token = [                    "user" => $user[0],                    "exp" => Carbon::now()->addHours(3)->timestamp                ];                $jwt = JWT::encode($token, JWT_KEY);                echo json_encode([                    'user' => $user[0],                    'exp' => Carbon::now()->addHours(3)->timestamp,                    'token' => $jwt                ]);            } else {                echo json_encode([                    'error' => 'Nom de compte ou mot de passe incorect'                ]);            }        } else {            echo json_encode([                'error' => 'paramètres manquant !'            ]);        }        break;    default:        echo json_encode([            'error' => 'Methode ' .$_SERVER['REQUEST_METHOD'].' non supporté'        ]);        break;}